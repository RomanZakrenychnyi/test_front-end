// 1.1.6
(()=>{"use strict";var t={24:(t,e,n)=>{function o(t){t&&t()}n.d(e,{Z:()=>x});var r=new Set(["episode","excerpt"]),i=new Set(["available_for","device_type","glb_assinante","glb_tipo","gp_gender","gp_platform","kuid","ogncluster","op","tipo_pagina","tvg_cma"]),s=new Set(["tvg_pgStr","v_id","video_category","video_kind","video_program","video_subscription","pa","program_genre"]),a=function(){return a=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)};function u(t,e){try{if(!t)return{};var n=new URLSearchParams(t);return Array.from(n.keys()).reduce((function(t,o){var r;return e.has(o)?a(a({},t),((r={})[o]=n.get(o),r)):t}),{})}catch(t){return{}}}function c(t){var e,n;o(null===(n=null===(e=null==t?void 0:t.pauseAd)||void 0===e?void 0:e.eventListeners)||void 0===n?void 0:n.onPauseAdViewable)}function l(t){window.googletag.cmd.push((function(){window.googletag.destroySlots(t)}))}var p={zIndex:996,width:"100%",height:"100%",transition:"1s",opacity:0,position:"absolute",top:0,transform:"translateX(100%)",display:"none"};function d(t){!function(t){if(!t)throw new Error("container is not a valid object")}(t);var e=t.getCurrentTime(),n=t.getDuration();return 0===e?1:Math.ceil(e/n*4)}const f=function(){function t(t,e,n){this.divId=t,this.logger=e,this._slots=[],this._closed=!1,this._container=n,this.rendered=!1,l(function(){if(window.googletag.pubadsReady)return window.googletag.pubads().getSlots().filter((function(t){return!document.getElementById(t.getSlotElementId())}))}())}return Object.defineProperty(t.prototype,"closed",{get:function(){return this._closed},set:function(t){this._closed=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"slots",{get:function(){return this._slots},set:function(t){this._slots=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iframe",{get:function(){var t;return null===(t=null==this?void 0:this.adDiv)||void 0===t?void 0:t.querySelector("iframe")},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.adDiv&&(this._container().isPlaying()||this.setStyle(this.adDiv.style,{opacity:"1",transform:"translateX(0%)"}))},t.prototype.hide=function(){this.adDiv&&(this.setStyle(this.adDiv.style,{opacity:"0",transform:"translateX(100%)"}),this.rendered=!1)},t.prototype.sendQuartile=function(t){!function(t,e,n){if(null==n?void 0:n.contentWindow){var o={type:"QUARTILE",payload:e};n.contentWindow.postMessage(o,"*")}}(0,{quartile:d(t)},this.iframe),this.logger.info("Sending quartile ".concat(d(t)," to ad."))},t.prototype.isMessageFromAd=function(t,e){var n;try{return(null==t?void 0:t.contentWindow)===e||(null===(n=null==t?void 0:t.contentWindow)||void 0===n?void 0:n.frames[0])===e}catch(t){return!1}},t.prototype.setEventsListenerAd=function(t){var e=this,n=this,r=null!=t?t:{},i=r.onPauseAdClickCloseButton,s=r.onPauseAdMouseOverInfo,a=r.onPauseAdClick;window.addEventListener("message",(function(t){try{if(!e.isMessageFromAd(null==n?void 0:n.iframe,t.source))return;!function(t){var e=t.pauseAd,n=t.onPauseAdClickCloseButton,r=t.onPauseAdMouseOverInfo,i=t.onPauseAdClick;switch(t.event.data.type){case"AD_CLICK":o(i);break;case"DESTROY_SLOT":e.hide(),o(n);break;case"MOUSE_OVER":o(r);break;case"SHADOW_CLICK":e.play()}}({event:t,pauseAd:n,onPauseAdClickCloseButton:i,onPauseAdMouseOverInfo:s,onPauseAdClick:a})}catch(t){n.logger.error("Failed to process ad iframe message: ".concat(t.message))}}))},t.prototype.play=function(){this._container().play()},t.prototype.resetAdSlots=function(){try{this.logger.info("Destroying ".concat(this._slots.length," slots.")),l(this._slots),this.slots=[],this.logger.info("Finished destroying ".concat(this._slots.length," slots."))}catch(t){this.logger.error("Failed to destroy slots: ".concat(t.message))}},t.prototype.getContainer=function(){if(this.adDiv)return this.adDiv;var t=document.createElement("div");return this.adDiv=t,t.id=this.divId,t.classList.add("pause-ads-container"),this.setStyle(t.style,p),t},t.prototype.setStyle=function(t,e){Object.assign(t,e)},t.prototype.hasRendered=function(){return this.rendered},t.prototype.pushSlot=function(t){this.rendered=!0,this.slots.includes(t)||(this.logger.info("Pushing slot ".concat(t.getSlotElementId()," to slots array.")),this.slots.push(t),this.logger.info("Pushed slot ".concat(t.getSlotElementId()," to slots array.")))},t}(),v=function(){function t(){}return t.prototype.update=function(t){throw new Error("Observer instance must implement update method")},t}();var h,g=(h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},h(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const y=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return g(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.CONTAINER_DESTROYED;t.type===e&&(this.plugin.pauseAdElement.hide(),this.plugin.pauseAdElement.resetAdSlots())},e}(v);var b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const w=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return b(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.CORE_ACTIVE_CONTAINER_CHANGED;t.type===e&&(this.plugin.pauseAdElement.hide(),this.plugin.pauseAdElement.resetAdSlots())},e}(v);var _=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const E=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return _(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.PLAYBACK_PLAY;t.type===e&&this.plugin.onContainerPlay()},e}(v);var A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const m=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return A(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.PLAYBACK_PAUSE,n=t.type,o=t.userInvoked;n===e&&o&&this.plugin.onContainerPause()},e}(v);var O=function(){function t(){this.observers=Array()}return t.prototype.subscribe=function(t){this.observers.push(t)},t.prototype.unsubscribe=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},t.prototype.notify=function(t){this.observers.forEach((function(e){return e.update(t)}))},t}();const P=O;var C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const L=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n.core=e.core,n.logger=e.logger,n._setupObservers(),n}return C(e,t),e.prototype.isActiveContainerAvailable=function(){var t;return Boolean(null===(t=this.core)||void 0===t?void 0:t.activeContainer)},e.prototype._setupObservers=function(){var t=this,e=window.Clappr.Events,n=e.CORE_ACTIVE_CONTAINER_CHANGED,o=e.PLAYBACK_READY;this.isActiveContainerAvailable()&&(this.logger.info("Active container available. Setting up observers."),this._setupPlaybackObservers()),this.plugin.listenTo(this.core,n,(function(){t.notify({type:n}),t._setupActiveContainerObservers(),t.plugin.listenTo(t.core.activePlayback,o,(function(){t._setupPlaybackObservers()}))}))},e.prototype._setupActiveContainerObservers=function(){var t=this;this.logger.info("Setting up active container observers.");var e=window.Clappr.Events,n=e.WATCH_SESSION_END,o=e.CONTAINER_DESTROYED,r=this.core.activeContainer;this.plugin.listenTo(r,n,(function(){t.notify({type:n})})),this.plugin.listenTo(r,o,(function(){t.notify({type:o,payload:{slotId:t.plugin.divId}})})),this.logger.info("Finished active container observers setup.")},e.prototype._setupPlaybackObservers=function(){var t=this;this.logger.info("Setting up playback observers.");var e=window.Clappr.Events,n=e.PLAYBACK_PAUSE,o=e.PLAYBACK_PLAY,r=this.plugin,i=this.core.activeContainer.playback;r.listenTo(i,n,(function(e,o){var r=null==o?void 0:o.userInvoked;t.notify({type:n,userInvoked:Boolean(r)})})),r.listenTo(i,o,(function(){t.notify({type:o})})),this.logger.info("Finished playback observers setup.")},e}(P);var S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const I=function(t){function e(e){var n=t.call(this)||this;return n.plugin=e,n}return S(e,t),e.prototype.update=function(t){var e=window.Clappr.Events.WATCH_SESSION_END;t.type===e&&(this.plugin.pauseAdElement.hide(),this.plugin.pauseAdElement.resetAdSlots())},e}(v);var R;!function(t){t[t.LEVEL_DEBUG=0]="LEVEL_DEBUG",t[t.LEVEL_INFO=1]="LEVEL_INFO",t[t.LEVEL_WARN=2]="LEVEL_WARN",t[t.LEVEL_ERROR=3]="LEVEL_ERROR"}(R||(R={}));var j="dd_plugin_logging",D=function(){function t(t){this.playerLogger=t}return t.prototype.debug=function(t){this.log(t,R.LEVEL_DEBUG)},t.prototype.info=function(t){this.log(t,R.LEVEL_INFO)},t.prototype.warn=function(t){this.log(t,R.LEVEL_WARN)},t.prototype.error=function(t){this.log(t,R.LEVEL_ERROR)},t.prototype.log=function(t,e){var n,o;void 0===e&&(e=1),("true"===(null===(n=new URLSearchParams(window.location.search).get(j))||void 0===n?void 0:n.toLocaleLowerCase())||"true"===(null===(o=localStorage.getItem(j))||void 0===o?void 0:o.toLocaleLowerCase()))&&this.playerLogger.log("[PAUSE-ADS-PLUGIN]",e,t)},t}(),T=/Android|Mobile|webOS|iPhone|iPad|Opera Mini/i,k=function(){return k=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},k.apply(this,arguments)};var N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),V=function(t){function e(e){var n,o=t.call(this,e)||this;return(n=document.createElement("style")).innerHTML="\n    .pause-ads-container {\n      width: 100% !important;\n      height: 100% !important;\n    }\n\n    .pause-ads-container > div {\n      width: 100% !important;\n      height: 100% !important;\n    }\n\n    .pause-ads-container iframe {\n      width: 100% !important;\n      height: 100% !important;\n    }\n  ",document.head.insertAdjacentElement("beforeend",n),o.core=e,o.logger=new D(new window.Clappr.Log),o.setup(),o}return N(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return e.pluginName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"divId",{get:function(){return"".concat("banner_pause__").concat(this.options.playerId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"adDiv",{get:function(){return this.pauseAdElement.getContainer()},enumerable:!1,configurable:!0}),e.prototype.setup=function(){var t,e,n,o,r;return e=this,n=void 0,r=function(){var e=this;return function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(t){(null===window||void 0===window?void 0:window.libPubReady)?t(!0):document.addEventListener("libPubReady",(function(){(null===window||void 0===window?void 0:window.libPubReady)?t(!0):t(!1)}))}))];case 1:return n.sent(),this.pauseAdElement=new f(this.divId,this.logger,(function(){return e.getContainer()})),this.core.el.append(this.adDiv),this.pauseAdElement.setEventsListenerAd(null===(t=this.options.pauseAd)||void 0===t?void 0:t.eventListeners),this.setupObservers(),this.setupRenderListener(),this.debounceLazyLoading=(o=this.renderBanner.bind(this),void 0===r&&(r=1e3),function(){clearTimeout(i),i=setTimeout((function(){o()}),r)}),[2]}var o,r,i}))},new((o=void 0)||(o=Promise))((function(t,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}u((r=r.apply(e,n||[])).next())}))},e.prototype.setupObservers=function(){var t=new L(this);this._setContainerObservers(t),this._setPlaybackObservers(t)},e.prototype.getContainer=function(){return this.core.activeContainer},e.prototype._setContainerObservers=function(t){t.subscribe(new I(this)),t.subscribe(new y(this)),t.subscribe(new w(this))},e.prototype._setPlaybackObservers=function(t){t.subscribe(new E(this)),t.subscribe(new m(this))},e.prototype.isVideoAdPlaying=function(){return this.core.activeContainer.options.dfp.dfpVideoAd.isServedAd},e.prototype.isPipActive=function(){return this.getContainer().isPiPActive},e.prototype.onContainerPause=function(){var t;t=null===navigator||void 0===navigator?void 0:navigator.userAgent,T.test(t)||this.isPipActive()||this.isVideoAdPlaying()||this.adDiv&&(this.pauseAdElement.hasRendered()||this.debounceLazyLoading())},e.prototype.setupRenderListener=function(){var t,e,n,r=this;this.logger.info("Setting render listener for divId ".concat(this.adDiv.id,".")),t=function(t){var e,n;t.isEmpty||t.slot.getSlotElementId()===r.adDiv.id&&(r.pauseAdElement.pushSlot(t.slot),r.pauseAdElement.show(),r.pauseAdElement.sendQuartile(r.core.activeContainer),o(null===(n=null===(e=r.options.pauseAd)||void 0===e?void 0:e.eventListeners)||void 0===n?void 0:n.onPauseAdImpression))},e=this.adDiv.id,n=this.options,window.googletag.cmd.push((function(){var o=window.googletag.pubads();!function(t,e,n,o){o.addEventListener("slotRenderEnded",t),o.addEventListener("impressionViewable",(function(t){!function(t,e,n,o){t.slot.getSlotElementId()===e&&o(n)}(t,e,n,c)}))}(t,e,n,o)})),this.logger.info("Finished setting render listener for divId ".concat(this.adDiv.id,"."))},e.prototype.renderBanner=function(){if(this.isContentPlaying()&&!this.isVideoAdPlaying()){var t=this,e=t.options,n=t.logger,a=t.adDiv.id;this.logger.info("Called bannerLazyLoading for div with id ".concat(this.adDiv.id,"."));var c=function(t,e){var n=function(t,e){try{var n=t.dfp.adCustomData;return Object.fromEntries(new URLSearchParams(n))}catch(t){return e.error("Unable to get dfp params: ".concat(t.message)),{}}}(t,e);return k(k({},n),t.adCustomData)}(e,n);if(function(t,e){if("globoplay"===location.hostname.split(".globo")[0]){if(e.info("Globoplay environment detected."),n=null==t?void 0:t.video_kind,!r.has(n))return e.error('Pause Ad is not allowed to deliver in "'.concat(null==t?void 0:t.video_kind,'" kind of video.')),!1;if("1"!==t.pa)return e.error("Pause Ad is not allowed to deliver in this content."),!1}var n;return!0}(c,n)){var l,p=u(c,i),d=u(c,s);window.pageTargetingSet||(l=p,window.googletag.cmd.push((function(){for(var t in l)window.googletag.pubads().setTargeting(t+"",l[t])})),window.pageTargetingSet=!0),window.glb_ppid&&window.googletag.pubads().setPublisherProvidedId(window.glb_ppid),function(t,e,n){var r,i=n.adUnit,s=n.dfp,a=n.pauseAd,u={adUnit:null!=i?i:s.adUnit,targets:e},c=function(t){return window.googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===t}))}(t);c?window.googletag.pubads().refresh([c]):window.bannerLazyLoading(t,u),o(null===(r=null==a?void 0:a.eventListeners)||void 0===r?void 0:r.onPauseAdRequest)}(a,d,e)}}},e.prototype.onContainerPlay=function(){var t,e;this.isVideoAdPlaying()||this.pauseAdElement.hasRendered()&&(this.pauseAdElement.hide(),o(null===(e=null===(t=this.options.pauseAd)||void 0===t?void 0:t.eventListeners)||void 0===e?void 0:e.onPauseAdPlayClose))},e.prototype.isContentPlaying=function(){return 0!==this.getContainer().getCurrentTime()},e.pluginName="PauseAdsPlugin",e}(window.Clappr.UICorePlugin);const x=V}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),window.PauseAdsPlugin=function(){return n(24).Z}})();